<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symphony Layers Explorer</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/data-loader.js" defer></script>
    <script src="js/app.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Symphony Layers Explorer</h1>
            <p>Explore Symphony layers, their related parameters, and associated datasets</p>
        </header>

        <main>
            <!-- Loading indicator -->
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Loading Symphony data...</p>
            </div>

            <!-- Main application content -->
            <div id="app" class="app-content" style="display: none;">
                
                <!-- Symphony Layers List -->
                <section id="layers-section" class="section">
                    <h2>Symphony Layers</h2>
                    <p>Click on a layer to explore its related parameters and datasets.</p>
                    
                    <div class="controls">
                        <input type="text" id="layer-search" class="search-box" placeholder="Search layers...">
                        <div class="sort-controls">
                            <label>Sort by:</label>
                            <select id="sort-select">
                                <option value="Name">Layer Name</option>
                                <option value="data_availability_index">Data Availability</option>
                                <option value="improvement_potential">Improvement Potential</option>
                                <option value="difficulty">Difficulty</option>
                            </select>
                            <button id="sort-order" class="btn btn-secondary" data-order="asc">â†‘ Ascending</button>
                        </div>
                    </div>

                    <div id="layers-container" class="layers-container">
                        <!-- Layers will be populated here -->
                    </div>
                </section>

                <!-- Parameters Section (hidden initially) -->
                <section id="parameters-section" class="section" style="display: none;">
                    <div class="breadcrumb">
                        <span onclick="symphonyApp.showLayers()" class="breadcrumb-link">Layers</span> 
                        > <span id="current-layer">Layer Name</span>
                    </div>
                    
                    <!-- Layer Metadata -->
                    <div id="layer-metadata" class="layer-metadata">
                        <!-- Metadata will be populated here -->
                    </div>
                    
                    <h2>Related Parameters</h2>
                    <p id="parameters-description">Parameters related to the selected layer.</p>
                    
                    <div class="controls">
                        <input type="text" id="parameter-search" class="search-box" placeholder="Search parameters...">
                    </div>
                    
                    <div id="parameters-container" class="parameters-container">
                        <!-- Parameters will be populated here -->
                    </div>
                </section>

                <!-- Datasets Section (hidden initially) -->
                <section id="datasets-section" class="section" style="display: none;">
                    <div class="breadcrumb">
                        <span onclick="symphonyApp.showLayers()" class="breadcrumb-link">Layers</span> 
                        > <span onclick="symphonyApp.showParameters()" class="breadcrumb-link" id="breadcrumb-layer">Layer Name</span>
                        > <span id="current-parameter">Parameter Name</span>
                    </div>
                    
                    <h2>Related Datasets</h2>
                    <p id="datasets-description">Datasets related to the selected parameter.</p>
                    
                    <div class="controls">
                        <input type="text" id="dataset-search" class="search-box" placeholder="Search datasets...">
                        <div class="column-controls">
                            <label>Show columns:</label>
                            <div id="column-toggles">
                                <!-- Column toggles will be populated here -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="datasets-container" class="datasets-container">
                        <!-- Datasets will be populated here -->
                    </div>
                </section>
            </div>
        </main>

        <footer>
            <p>Symphony Layers Interactive Explorer - <a href="https://github.com/Mistra-C2B2/MSP-Symphony" target="_blank">Symphony GitHub Repository</a></p>
        </footer>
    </div>
</body>
</html>